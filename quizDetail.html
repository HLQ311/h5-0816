<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>在线考试详情页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/quizDetail.css">
    <script src="js/jquery.js"></script>
    <script src="js/init.js"></script>
</head>
<body>
<div class="container">
    <div class="quiz_nav">
        <a href="javascript:;" class="back_btn" id="backBtn"></a>
        <a href="javascript:;" class="submit_btn" id="submitBtn">确定</a>
    </div>
    <div class="wrapper">
        <div class="quiz_container" id="scrollContainer">
            <div class="quiz_card">
                <div class="card_header">
                    <h3>多选题</h3>
                    <p>
                        <span class="current_num">1</span>
                        <span>/10</span>
                    </p>
                </div>
                <div class="card_content">
                    <div class="question">
                        <div>老年肺炎大致有哪些症状?</div>
                        <div>
                            多具有发热、咳痰等典型症状，也有少数有症状或无症状。首发症状为呼吸急促及呼吸困难，或有意识障碍、____、____、____等。
                        </div>
                    </div>
                    <ul class="answers">
                        <li class="active">
                            <span class="count">A.</span>
                            嗜睡
                        </li>
                        <li>
                            <span class="count">B.</span>
                            脱水
                        </li>
                        <li>
                            <span class="count">C.</span>食欲减退
                        </li>
                        <li>
                            <span class="count">D.</span>
                            失眠多梦
                        </li>
                    </ul>
                </div>
            </div>
            <div class="quiz_card">
                <div class="card_header">
                    <h3>填空题</h3>
                    <p>
                        <span class="current_num">2</span>
                        <span>/10</span>
                    </p>
                </div>
                <div class="card_content">
                    <div class="question">
                        <div>肺炎如何治疗?</div>
                        <div>
                            肺炎治疗包括抗感染治疗和预防并发症。患有社区获得性肺炎的人通常可以在家中接受药物治疗，具体治疗方式取决于病原菌类型、肺炎严重程度等，常用药物包括
                            <span class="input_hole active">
                                <input type="text" maxlength="1" class="input" value="开">
                            </span>
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>、
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>和
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>
                            <span class="input_hole">
                                <input type="text" maxlength="1" class="input">
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="quiz_card">
                <div class="card_header">
                    <h3>多选题</h3>
                    <p>
                        <span class="current_num">2</span>
                        <span>/10</span>
                    </p>
                </div>
                <div class="card_content">
                    <div class="question">
                        <div>老年肺炎大致有哪些症状?</div>
                        <div>
                            多具有发热、咳痰等典型症状，也有少数有症状或无症状。首发症状为呼吸急促及呼吸困难，或有意识障碍、____、____、____等。
                        </div>
                    </div>
                    <ul class="answers">
                        <li class="active">
                            <span class="count">A.</span>
                            嗜睡
                        </li>
                        <li>
                            <span class="count">B.</span>
                            脱水
                        </li>
                        <li>
                            <span class="count">C.</span>食欲减退
                        </li>
                        <li>
                            <span class="count">D.</span>
                            失眠多梦
                        </li>
                    </ul>
                </div>
            </div>
            <div class="quiz_card">
                <div class="card_header">
                    <h3>多选题</h3>
                    <p>
                        <span class="current_num">3</span>
                        <span>/10</span>
                    </p>
                </div>
                <div class="card_content">
                    <div class="question">
                        <div>老年肺炎大致有哪些症状?</div>
                        <div>
                            多具有发热、咳痰等典型症状，也有少数有症状或无症状。首发症状为呼吸急促及呼吸困难，或有意识障碍、____、____、____等。
                        </div>
                    </div>
                    <ul class="answers">
                        <li class="active">
                            <span class="count">A.</span>
                            嗜睡
                        </li>
                        <li>
                            <span class="count">B.</span>
                            脱水
                        </li>
                        <li>
                            <span class="count">C.</span>食欲减退
                        </li>
                        <li>
                            <span class="count">D.</span>
                            失眠多梦
                        </li>
                    </ul>
                </div>
            </div>
            <div class="quiz_card">
                <div class="card_header">
                    <h3>多选题</h3>
                    <p>
                        <span class="current_num">4</span>
                        <span>/10</span>
                    </p>
                </div>
                <div class="card_content">
                    <div class="question">
                        <div>老年肺炎大致有哪些症状?</div>
                        <div>
                            多具有发热、咳痰等典型症状，也有少数有症状或无症状。首发症状为呼吸急促及呼吸困难，或有意识障碍、____、____、____等。
                        </div>
                    </div>
                    <ul class="answers">
                        <li class="active">
                            <span class="count">A.</span>
                            嗜睡
                        </li>
                        <li>
                            <span class="count">B.</span>
                            脱水
                        </li>
                        <li>
                            <span class="count">C.</span>食欲减退
                        </li>
                        <li>
                            <span class="count">D.</span>
                            失眠多梦
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="js/layer.js"></script>
<script>
    $(function() {
        $('.answers li').click(function() {
            const isActive = $(this).hasClass('active')
            if (isActive) {
                $(this).removeClass('active')
            } else {
                $(this).addClass('active')
            }
        })
        const MAX_COUNTS = 5
        let currentIndex = 0
        const width = document.body.clientWidth
        $('#submitBtn').click(function() {
            console.log(currentIndex)
            if (currentIndex === MAX_COUNTS - 1) {
                layer.open({
                    type: 1,
                    shadeClose: false,
                    content: `<div class="quiz_pop">
    <img src="img/finish_quiz.png" alt="">
    <h2>恭喜您完成考试</h2>
    <p class="score_desc">本次考试成绩</p>
    <h1>96分</h1>
    <p class="quiz_time">用时：15分钟</p>
    <a href="javascript:;" class="close_btn" id="closeBtn">我知道了</a>
</div>`,
                });
                return
            }
            $('#scrollContainer').animate({
                left: '-=' + width + 'px'
            }, function() {
                currentIndex++
                console.log(currentIndex)
            })
        })
        $('#backBtn').click(function() {
            console.log(currentIndex)
            if (currentIndex === 0) {
                return
            }
            $('#scrollContainer').animate({
                left: '+=' + width + 'px'
            }, function() {
                currentIndex--
                console.log(currentIndex)
            })
        })
        $(document).on('click', '#closeBtn', function() {
            layer.closeAll()
        })
        $(document).on('keyup', '.input_hole input', function() {
            const val = $(this).val()
            console.log(val)
            if (val) {
                $(this).parent().addClass('active')
            } else {
                $(this).parent().removeClass('active')
            }
        })
    })
</script>
</body>
</html>
